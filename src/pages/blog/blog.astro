---
import { getDirectusClient } from './get-directus-client';
import { readItems } from '@directus/sdk';

const client = getDirectusClient();

// Fetch posts data with all fields
let posts = await client.request(readItems('posts', { fields: ['*.*'] }));
---

<div>
  {posts.map((post, index) => (
    <div key={index}>
      <h2>{post.title}</h2>
      <p>{post.summary}</p>
      <div dangerouslySetInnerHTML={{ __html: post.content }}></div>
      <p>Author: {post.author}</p>
      <p>Built With: {post.built_with}</p>
      <p>Category: {post.category}</p>
      <p>Client: {post.client}</p>
      <p>Cost: {post.cost}</p>
      <p>Date Created: {post.date_created}</p>
      <p>Date Published: {post.date_published}</p>
      <p>Date Updated: {post.date_updated}</p>
      <p>ID: {post.id}</p>
      <img src={post.image} alt="Post Image" />
      <p>SEO: {post.seo}</p>
      <p>Slug: {post.slug}</p>
      <p>Sort: {post.sort}</p>
      <p>Status: {post.status}</p>
      <p>Type: {post.type}</p>
      <p>User Created: {post.user_created}</p>
      <p>User Updated: {post.user_updated}</p>
      <p>Video URL: {post.video_url}</p>
      {/* Render gallery array */}
      {post.gallery && (
        <div>
          {post.gallery.map((item, idx) => (
            <img key={idx} src={item} alt={`Gallery Image ${idx}`} />
          ))}
        </div>
      )}
      {/* Add additional nested fields rendering logic here as needed */}
    </div>
  ))}
</div>